---
title: Using Firebase Crashlytics
sidebar_label: Usage
---

To start using Firebase Crashlytics within your project, import it at the top of your project files:

```dart
import 'package:firebase_crashlytics/firebase_crashlytics.dart';
```

## Enabling Debug Mode

Set `enabledInDevMode` to true to see reports whilst in debug mode.  This is only to be used for confirming that reports are being
submitted as expected. It is not intended to be used for everyday development.

```dart
FirebaseCrashlytics.instance.enableInDevMode = true;
```

## Forcing a crash
You don't have to wait for a crash to know that Crashlytics is working. To force a crash, call the `crash` method:

```dart
FirebaseCrashlytics.instance.crash();
```

## Add custom keys

To associate key/value pairs with your crash reports, you can use the `setCustomKey` method

```dart
// Set a key to a string.
FirebaseCrashlytics.instance.setCustomKey('str_key', 'hello');

// Set a key to a boolean.
FirebaseCrashlytics.instance.setCustomKey("bool_key", true);

// Set a key to an int.
FirebaseCrashlytics.instance.setCustomKey("int_key", 1);

// Set a key to a long.
FirebaseCrashlytics.instance.setCustomKey("int_key", 1L);

// Set a key to a float.
FirebaseCrashlytics.instance.setCustomKey("float_key", 1.0f);

// Set a key to a double.
FirebaseCrashlytics.instance.setCustomKey("double_key", 1.0);
```

>   This accepts a maximum of 64 key/value pairs. New keys beyond that limit are ignored. Keys or values that exceed 1024 characters are truncated.

## Add custom log messages

To add custom Crashlytics log messages to your app, use the `log` method

```dart
FirebaseCrashlytics.instance.log("Higgs-Boson detected! Bailing out");
```

## Set user identifiers

To add user IDs to your reports, assign each user with a unique ID.  This can be an ID number, token or hashed value:

```dart
FirebaseCrashlytics.instance.setUserId("12345");
```

## Handling uncaught errors

By overriding `FlutterError.onError` with `FirebaseCrashlytics.instance.recordFlutterError`, it will automatically
catch all errors that are thrown within the Flutter framework.

```dart
void main() {
  // Pass all uncaught errors from the framework to Crashlytics.
  FlutterError.onError = FirebaseCrashlytics.instance.recordFlutterError;

  runApp(MyApp());
}
```


### Zoned Errors

If you want to catch errors that occur in zones, you can pass `FirebaseCrashlytics.instance.recordError` to the `onError`
parameter of `runZoned`

```dart
runZoned<Future<void>>(() async {
    // ...
  }, onError: FirebaseCrashlytics.instance.recordError);
  ```

### Errors outside of Flutter

To catch errors that happen outside of the Flutter context, install an error listener on the current Isolate:

```dart
Isolate.current.addErrorListener(RawReceivePort((pair) async {
  final List<dynamic> errorAndStacktrace = pair;
  await FirebaseCrashlytics.instance.recordError(
    errorAndStacktrace.first,
    errorAndStacktrace.last,
  );
}).sendPort);
```

## Enable opt-in reporting

By default, Crashlytics will automatically collect creash reports for all your app's users.  To give users more control over
the data they send, you can enable opt-in reporting.automatically

### Android

1. In the `application` block of your `AndroidManifest.xml` file, add a `meta-data` tags to turn off automatic collection:

```xml
<meta-data
  android:name="firebase_crashlytics_collection_enabled"
  android:value="false" />
```

2.  Enable collection for users by calling the Crashlytics data collection override at runtime.  To opt out of automatic
crash reporting, pass `false` as the override value.  When set to `false`, the new value does not apply until the next run
of the app.

```dart
FirebaseCrashlytics.instance.setCrashlyticsCollectionEnabled(true);
```

### iOS

1. Turn off automatic collection by adding a new key to your `Info.plist` file.

- Key: `FirebaseCrashlyticsCollectionEnabled`
- Value: `false`

2.  Enable collection for users by calling the Crashlytics data collection override at runtime.  To opt out of automatic
crash reporting, pass `false` as the override value.  When set to `false`, the new value does not apply until the next run
of the app.

```dart
FirebaseCrashlytics.instance.setCrashlyticsCollectionEnabled(true);
```


